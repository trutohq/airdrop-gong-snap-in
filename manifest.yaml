version: '2'

name: Gong Adaas
description: Gong Adaas

service_account:
  display_name: Gong Adaas Bot

functions:
  - name: extraction
    description: Extraction function for Gong Adaas
  - name: install_initial_domain_mapping
    description: Create blueprint and install initial domain mapping

keyring_types:
  - id: truto-api-key-basic
    name: Truto API Key
    description: Truto API Key
    external_system_name: Truto
    kind: 'Secret'
    is_subdomain: true
    secret_config: # The secret_config section is used to define the fields in the secret.
      secret_transform: '.token' # a JQ query
      fields:
        - id: token
          name: Token
          description: Example API token
      token_verification:
        url: https://app.devrev.ai/favicon.ico
        method: GET

imports:
  - slug: gong-adaas
    display_name: Gong Adaas
    description: Gong Adaas
    extractor_function: extraction
    allowed_connection_types:
      - truto-api-key-basic

hooks:
  - type: activate
    function: install_initial_domain_mapping
